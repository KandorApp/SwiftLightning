//
//  ChannelConfirmModels.swift
//  SwiftLightning
//
//  Created by Howard Lee on 2018-04-25.
//  Copyright (c) 2018 BiscottiGelato. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

enum ChannelConfirm {
  
  enum Refresh {
    struct Request {
    }
    struct Response<C: Currency> {
      // Data Store Values
      var nodePubKey: String
      var nodeIP: String
      var nodePort: Int
      var fundingAmt: Bitcoin
      var initPayAmt: Bitcoin
      var confSpeed: OnChainConfirmSpeed
      
      // Calculated Values
      var fiatFundingAmt: Money<C>
      var fiatInitPayAmt: Money<C>
      var canPayAmt: Bitcoin
      var canRcvAmt: Bitcoin
      var fiatCanPayAmt: Money<C>
      var fiatCanRcvAmt: Money<C>
      var feeAmt: Bitcoin
      var fiatFeeAmt: Money<C>
    }
    struct ViewModel {
      var fundingAmt: String
      var refFundingAmt: String
      var nodePubKey: String
      var nodeIP: String
      var nodePort: String
      var initPayAmt: String
      var refInitPayAmt: String
      var confSpeed: String
      var canPayAmt: String
      var canRcvAmt: String
      var fee: String
    }
    struct ErrorVM {
      var errTitle: String
      var errMsg: String
    }
  }

  
  enum OpenChannel {
    enum Error: Int, LocalizedError {
      case peerNotConnected
      
      var errorDescription: String? {
        switch self {
          
        case .peerNotConnected:
          return NSLocalizedString("Unable to establish connection to peer. Peer is not reachable. Please also check your local network settings.", comment: "ChannelConfirm.OpenChannel.Error Type")
        }
      }
    }
    struct Constants {
      static let lnFindPeerRetry = 5
      static let lnFindPeerDelay = 2.0
    }
    struct Request {
      // Use Data Store values
    }
    struct Response {
      var result: Result<Void>
    }
    struct ViewModel {
      var alertTitle: String
      var alertMsg: String
    }
    struct ErrorVM {
      var errTitle: String
      var errMsg: String
    }
  }
}
